<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/korepetycje.css">
    <title>Fuszerka | Korepetycje</title>
</head>
<body>
    <div class="container">
        <header>
            <h1>
                Dodaj korepetycje
            </h1>
        </header>
        <div class="desc-cont">
            <form method="post" id="form">
                <label for="sub">Podaj
                    <select name="sub" id="sub1" class="sub" required>
                        <option value="przedmiot">Przedmiot</option>
                        <option value="Matematyka">Matematyka</option>
                    </select>
                    <select name="sub" id="sub2" class="sub" required>
                        <option value="przedmiot">Dział</option>
                        <option value="Matematyka">Matematyka</option>
                    </select>
                    <select name="sub" id="sub3" class="sub" required>
                        <option value="przedmiot">Temat</option>
                        <option value="Pierwisatki">Pierwisatki</option>
                        <option value="Funckja Kwadratowa">Funckja Kwadratowa</option>
                        <option value="Twierdzenie Bezouta">Twierdzenie Bezouta</option>
                    </select>
                </label>
                <textarea name="desc" id="desc" cols="30" rows="10" placeholder="opis"></textarea>
                <button class="add" type="submit">Dodaj</button>
                <a href="kompetencje.html">Chcesz dodać kompetencje?</a>
            </form>
        </div>
        <footer>
            <div class="nav-cont">
                <div class="pic-cont">
                    <div class="img-cont">
                        <a href="szukaj_korepetytora.html"><img src="img/people.svg" alt="group" width="40px" height="40px"></a>
                    </div>
                    <div class="img-cont">
                        <a href="korepetycje.html"><img src="img/add_active.svg" alt="korepetycje" width="40px" height="40px"></a>
                    </div>
                    <div class="img-cont">
                        <a href="main.html"><img src="img/home.svg" alt="home" width="40px" height="40px"></a>
                    </div>
                    <div class="img-cont">
                        <a href="kalendarz.html"><img src="img/calendar.svg" alt="calendar" width="40px" height="40px"></a>
                    </div>
                    <div class="img-cont">
                        <a href="profil.html"><img src="img/profil.svg" alt="user" width="40px" height="40px"></a>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <script>
        const form = document.querySelector('#form')
        form.addEventListener("submit", (e) => {
        e.preventDefault();
    
        const przedmiot = document.getElementById("sub1").value;
        const dzial = document.getElementById("sub2").value;
        const temat = document.getElementById("sub3").value;
        const desc = document.getElementById("desc").value;
    //moze zadziala pozniej
       fetch('https://korepetycjetesty.zsti.me/api/tutoring/createTutoringSession', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        Authorization:`Bearer ${localStorage.getItem('token')} `
      },
      body: JSON.stringify({
        "subject_name": przedmiot,
        "section_name": dzial,
        "topic_name": temat,
        "about": desc
      })
    })
    .then(response => response.json())
    .then(data => {
         console.log(data);
    })
    .catch(error => {
        console.error(error)
    
    
    
    } );
    
    })
        </script>
</body>
</html>
